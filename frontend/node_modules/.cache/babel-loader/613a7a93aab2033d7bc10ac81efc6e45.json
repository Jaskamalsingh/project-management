{"ast":null,"code":"import { disposables as p } from './disposables.js';\nimport { match as L } from './match.js';\nimport { getOwnerDocument as c } from './owner.js';\nlet m = [\"[contentEditable=true]\", \"[tabindex]\", \"a[href]\", \"area[href]\", \"button:not([disabled])\", \"iframe\", \"input:not([disabled])\", \"select:not([disabled])\", \"textarea:not([disabled])\"].map(e => `${e}:not([tabindex='-1'])`).join(\",\");\nvar T = (n => (n[n.First = 1] = \"First\", n[n.Previous = 2] = \"Previous\", n[n.Next = 4] = \"Next\", n[n.Last = 8] = \"Last\", n[n.WrapAround = 16] = \"WrapAround\", n[n.NoScroll = 32] = \"NoScroll\", n))(T || {}),\n  M = (o => (o[o.Error = 0] = \"Error\", o[o.Overflow = 1] = \"Overflow\", o[o.Success = 2] = \"Success\", o[o.Underflow = 3] = \"Underflow\", o))(M || {}),\n  b = (r => (r[r.Previous = -1] = \"Previous\", r[r.Next = 1] = \"Next\", r))(b || {});\nfunction d(e = document.body) {\n  return e == null ? [] : Array.from(e.querySelectorAll(m));\n}\nvar N = (r => (r[r.Strict = 0] = \"Strict\", r[r.Loose = 1] = \"Loose\", r))(N || {});\nfunction F(e, t = 0) {\n  var r;\n  return e === ((r = c(e)) == null ? void 0 : r.body) ? !1 : L(t, {\n    [0]() {\n      return e.matches(m);\n    },\n    [1]() {\n      let l = e;\n      for (; l !== null;) {\n        if (l.matches(m)) return !0;\n        l = l.parentElement;\n      }\n      return !1;\n    }\n  });\n}\nfunction I(e) {\n  let t = c(e);\n  p().nextFrame(() => {\n    t && !F(t.activeElement, 0) && h(e);\n  });\n}\nfunction h(e) {\n  e == null || e.focus({\n    preventScroll: !0\n  });\n}\nlet w = [\"textarea\", \"input\"].join(\",\");\nfunction H(e) {\n  var t, r;\n  return (r = (t = e == null ? void 0 : e.matches) == null ? void 0 : t.call(e, w)) != null ? r : !1;\n}\nfunction S(e, t = r => r) {\n  return e.slice().sort((r, l) => {\n    let o = t(r),\n      s = t(l);\n    if (o === null || s === null) return 0;\n    let n = o.compareDocumentPosition(s);\n    return n & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : n & Node.DOCUMENT_POSITION_PRECEDING ? 1 : 0;\n  });\n}\nfunction D(e, t) {\n  return O(d(), t, !0, e);\n}\nfunction O(e, t, r = !0, l = null) {\n  let o = Array.isArray(e) ? e.length > 0 ? e[0].ownerDocument : document : e.ownerDocument,\n    s = Array.isArray(e) ? r ? S(e) : e : d(e);\n  l = l != null ? l : o.activeElement;\n  let n = (() => {\n      if (t & 5) return 1;\n      if (t & 10) return -1;\n      throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\");\n    })(),\n    E = (() => {\n      if (t & 1) return 0;\n      if (t & 2) return Math.max(0, s.indexOf(l)) - 1;\n      if (t & 4) return Math.max(0, s.indexOf(l)) + 1;\n      if (t & 8) return s.length - 1;\n      throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\");\n    })(),\n    x = t & 32 ? {\n      preventScroll: !0\n    } : {},\n    f = 0,\n    i = s.length,\n    u;\n  do {\n    if (f >= i || f + i <= 0) return 0;\n    let a = E + f;\n    if (t & 16) a = (a + i) % i;else {\n      if (a < 0) return 3;\n      if (a >= i) return 1;\n    }\n    u = s[a], u == null || u.focus(x), f += n;\n  } while (u !== o.activeElement);\n  return t & 6 && H(u) && u.select(), u.hasAttribute(\"tabindex\") || u.setAttribute(\"tabindex\", \"0\"), 2;\n}\nexport { T as Focus, M as FocusResult, N as FocusableMode, h as focusElement, D as focusFrom, O as focusIn, d as getFocusableElements, F as isFocusableElement, I as restoreFocusIfNecessary, S as sortByDomNode };","map":null,"metadata":{},"sourceType":"module"}